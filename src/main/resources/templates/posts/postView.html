<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>게시글 상세보기</title>
</head>

<body>
<h2 th:text="${post.title}"></h2>
<p th:text="${post.content}"></p>
<p>작성자: <span th:text="${post.user.username}"></span></p>
<p>작성일: <span th:text="${#dates.format(post.createdDate, 'yyyy-MM-dd HH:mm:ss')}"></span></p>

<!-- 로그인한 사용자와 게시글 작성자가 같은 경우에만 수정 및 삭제 버튼 표시 -->
<div th:if="${session.user and session.user.id == post.user.id}">
    <a th:href="@{/post/edit/{id}(id=${post.id})}">수정</a>
    <form th:action="@{/post/delete/{id}(id=${post.id})}" method="post" style="display: inline">
        <button type="submit" onclick="return confirm('정말로 삭제하시겠습니까?')">삭제</button>
    </form>
</div>

<a href="/post">목록으로 돌아가기</a>
</body>

</html>
